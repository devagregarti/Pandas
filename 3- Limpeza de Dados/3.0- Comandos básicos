ğŸ§¹ TRATAMENTO E LIMPEZA DE DADOS NO PANDAS

Antes de analisar ou modelar dados, Ã© fundamental limpar, padronizar e tratar informaÃ§Ãµes ausentes ou incorretas.
O Pandas oferece muitas ferramentas prÃ¡ticas para isso.

â¸»

ğŸ“˜ 1. Verificando dados faltantes

Para detectar dados ausentes (NaN = Not a Number), usamos:
df.isnull() â†’ retorna True/False
df.isnull().sum() â†’ conta quantos valores nulos hÃ¡ por coluna
df.notnull() â†’ mostra o oposto (True se nÃ£o for nulo)

Exemplo:
df.isnull().sum()
â¡ï¸ Retorna um resumo de quantos valores estÃ£o ausentes em cada coluna.

â¸»

ğŸ”¹ 2. Removendo dados ausentes

Remover linhas com valores nulos:
df.dropna()

Remover colunas com valores nulos:
df.dropna(axis=1)

Remover apenas se todas as colunas estiverem nulas:
df.dropna(how=â€œallâ€)

Remover se houver menos de X valores nÃ£o nulos:
df.dropna(thresh=3)

â¡ï¸ Ãštil para manter apenas linhas â€œcompletas o suficienteâ€.

â¸»

ğŸ”¹ 3. Preenchendo dados ausentes

Substituir nulos por um valor especÃ­fico:
df.fillna(0)

Preencher nulos com o valor da coluna anterior (forward fill):
df.fillna(method=â€œffillâ€)

Preencher nulos com o valor da prÃ³xima linha (backward fill):
df.fillna(method=â€œbfillâ€)

Preencher com a mÃ©dia da coluna:
df[â€œidadeâ€].fillna(df[â€œidadeâ€].mean())

â¡ï¸ Essa tÃ©cnica Ã© comum em dados numÃ©ricos (como preÃ§o, idade, etc.).

â¸»

ğŸ”¹ 4. Substituindo valores especÃ­ficos

df.replace(â€œSimâ€, 1)
df.replace(â€œNÃ£oâ€, 0)

â¡ï¸ Converte respostas de texto para nÃºmeros, por exemplo.

Substituir mÃºltiplos valores:
df.replace({â€œSimâ€: 1, â€œNÃ£oâ€: 0, â€œTalvezâ€: 2})

Substituir valores em uma coluna especÃ­fica:
df[â€œcolunaâ€] = df[â€œcolunaâ€].replace(â€œDesconhecidoâ€, None)

â¸»

ğŸ”¹ 5. Renomeando colunas e Ã­ndices

Renomear colunas:
df.rename(columns={â€œnome_antigoâ€: â€œnovo_nomeâ€})

Renomear mÃºltiplas colunas:
df.rename(columns={â€œidadeâ€: â€œIdadeâ€, â€œcidadeâ€: â€œCidadeâ€})

Renomear Ã­ndice (linhas):
df.rename(index={0: â€œprimeira_linhaâ€})

â¡ï¸ Muito Ãºtil para deixar os nomes mais legÃ­veis.

â¸»

ğŸ”¹ 6. Alterando tipos de dados (dtype)

Ver tipos atuais:
df.dtypes

Converter tipos:
df[â€œcolunaâ€] = df[â€œcolunaâ€].astype(float)

Converter automaticamente:
df = df.convert_dtypes()

Converter datas:
df[â€œdataâ€] = pd.to_datetime(df[â€œdataâ€])

â¡ï¸ Corrigir tipos evita erros em cÃ¡lculos e agrupamentos.

â¸»

ğŸ”¹ 7. Tratando duplicatas

Verificar duplicados:
df.duplicated()

Remover duplicados:
df.drop_duplicates()

Manter apenas a primeira ocorrÃªncia:
df.drop_duplicates(keep=â€œfirstâ€)

Manter apenas a Ãºltima ocorrÃªncia:
df.drop_duplicates(keep=â€œlastâ€)

Remover duplicados com base em colunas especÃ­ficas:
df.drop_duplicates(subset=[â€œemailâ€])

â¡ï¸ Muito usado em listas de clientes, cadastros, etc.

â¸»

ğŸ”¹ 8. Padronizando textos

Converter tudo para minÃºsculas:
df[â€œnomeâ€] = df[â€œnomeâ€].str.lower()

Converter para maiÃºsculas:
df[â€œnomeâ€] = df[â€œnomeâ€].str.upper()

Remover espaÃ§os extras:
df[â€œnomeâ€] = df[â€œnomeâ€].str.strip()

Substituir parte do texto:
df[â€œemailâ€] = df[â€œemailâ€].str.replace(â€@gmail.comâ€, â€œ@outlook.comâ€)

â¡ï¸ Ãštil para normalizar nomes, emails e cidades.

â¸»

ğŸ”¹ 9. Filtrando valores invÃ¡lidos

Remover linhas com valores fora do padrÃ£o:
df = df[df[â€œidadeâ€] > 0]

Remover registros com string vazia:
df = df[df[â€œnomeâ€] != â€œâ€]

â¡ï¸ Assim vocÃª garante que os dados tenham consistÃªncia.

â¸»

ğŸ”¹ 10. Detectando outliers (valores fora do padrÃ£o)

Usando desvio padrÃ£o:
media = df[â€œsalarioâ€].mean()
desvio = df[â€œsalarioâ€].std()
limite_superior = media + 3 * desvio
limite_inferior = media - 3 * desvio
outliers = df[(df[â€œsalarioâ€] > limite_superior) | (df[â€œsalarioâ€] < limite_inferior)]

â¡ï¸ Isso ajuda a identificar valores muito altos ou baixos fora da mÃ©dia.

â¸»

ğŸ”¹ 11. Normalizando e padronizando dados

Normalizar (deixar entre 0 e 1):
df[â€œcoluna_normâ€] = (df[â€œcolunaâ€] - df[â€œcolunaâ€].min()) / (df[â€œcolunaâ€].max() - df[â€œcolunaâ€].min())

Padronizar (mÃ©dia 0, desvio 1):
df[â€œcoluna_padâ€] = (df[â€œcolunaâ€] - df[â€œcolunaâ€].mean()) / df[â€œcolunaâ€].std()

â¡ï¸ Muito Ãºtil para preparar dados para algoritmos de machine learning.

â¸»

ğŸ”¹ 12. Ordenando dados

Ordenar por uma coluna:
df.sort_values(â€œidadeâ€)

Ordenar em ordem decrescente:
df.sort_values(â€œidadeâ€, ascending=False)

Ordenar por vÃ¡rias colunas:
df.sort_values([â€œcidadeâ€, â€œidadeâ€])

â¡ï¸ Usado para organizar relatÃ³rios ou antes de agrupar.

â¸»

ğŸ§­ 13. Resumo rÃ¡pido

AÃ§Ã£o | FunÃ§Ã£o | DescriÃ§Ã£o
Contar nulos | df.isnull().sum() | Mostra quantos valores faltam
Remover nulos | df.dropna() | Apaga linhas com valores vazios
Preencher nulos | df.fillna(valor) | Substitui por um valor padrÃ£o
Substituir valores | df.replace() | Troca textos ou nÃºmeros
Renomear colunas | df.rename() | Altera nomes de colunas
Converter tipos | df.astype() | Muda o tipo de dados
Remover duplicados | df.drop_duplicates() | Elimina registros repetidos
Padronizar texto | df[â€œcolâ€].str.lower() | Corrige formataÃ§Ã£o de strings
Filtrar invÃ¡lidos | df[df[â€œcolunaâ€] > 0] | Remove registros incorretos
Detectar outliers | mÃ©dia Â± 3 * desvio | Identifica valores extremos
Normalizar | (x - min) / (max - min) | Escala os dados entre 0 e 1
Ordenar | df.sort_values() | Reorganiza as linhas
